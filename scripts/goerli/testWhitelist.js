const { ethers } = require("hardhat");

async function main() {
  const [deployer] = await ethers.getSigners();
  const admin = deployer;
  console.log("deployer:", admin.address);

  let whitelistAddr = "0x012bfFB750A9E900aB36853E6E7D9C53c8b6B9fb";
  const Whitelist = await ethers.getContractFactory("Whitelist");
  let whitelist = await Whitelist.attach(whitelistAddr);

  let a = [
    "0x25e0040688aa39b165a2a9ad7c315e471555904718d3afe39364c9555bc3e031",
    "0x08ec6c377350f08434e9f345aa79c30e94669ba5167ffe0edefc8724b61af463",
  ];
  let b = [
    [
      "0x2f56fbda5d52b5754eac5390a843eb5896bfdd1c47cbbaf271df206a3a70551d",
      "0x26c6f6dbbf7b7eb46cccd67146cb3e7f0187532fdf2ce8a9c5f808c8fc887ec4",
    ],
    [
      "0x147accfb3bcf9abae0babb447263082a65f2b96b07e61680cfee87ec7271d56b",
      "0x245f69669ddb81f993579473ffb0bc2ce0e970ed74236872cb8d0ed96595e70e",
    ],
  ];
  let c = [
    "0x1f8ffad9430512bdff7504d9bce877dd67d5032cbc2ccff412886c896bf02c90",
    "0x253110223d9a5e6f2e5aa5b723523c5573460884e8880e3aaca199995e8cb341",
  ];
  let input = [
    "0x0000000000000000000000000000000006ad83f127b62446d48b543b4f0a72c4",
    "0x0000000000000000000000000000000000e99a6a84440cadbbdd545abc6447b3",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
    "0x0000000000000000000000000000000000000000000000000000000000000000",
  ];
  let userId = 1120;
  let emailSuffix = ethers.utils.formatBytes32String("tesla.com");
  // let addWRes = await whitelist.addToWhitelist(userId, emailSuffix, a, b, c, input);
  // console.log("addWRes ..", addWRes.hash);

  let whiteAddr = "0xC5F4696D8781A753937316883ECDb6423E415ADC";
  let vRes = await whitelist.verifyUser(whiteAddr);
  console.log("Verify res: ", vRes.toString());
}

main()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error(error);
    process.exit(1);
  });
